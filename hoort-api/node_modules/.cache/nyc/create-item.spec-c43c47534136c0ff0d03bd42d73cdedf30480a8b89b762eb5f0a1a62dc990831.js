function cov_1e67hxu3cy(){var path="/Users/So/bootcamp/collab/skylab-bootcamp-202001/staff/sofia-costa/hoort/hoort-api/logic/create-item.spec.js";var hash="64cc94da7eb9900d958103448c2c5326fa858b41";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/So/bootcamp/collab/skylab-bootcamp-202001/staff/sofia-costa/hoort/hoort-api/logic/create-item.spec.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:26}},"1":{start:{line:3,column:38},end:{line:3,column:45}},"2":{start:{line:4,column:29},end:{line:4,column:50}},"3":{start:{line:6,column:19},end:{line:6,column:34}},"4":{start:{line:7,column:19},end:{line:7,column:23}},"5":{start:{line:8,column:19},end:{line:8,column:43}},"6":{start:{line:9,column:21},end:{line:9,column:42}},"7":{start:{line:11,column:0},end:{line:71,column:2}},"8":{start:{line:12,column:4},end:{line:12,column:105}},"9":{start:{line:12,column:17},end:{line:12,column:104}},"10":{start:{line:16,column:4},end:{line:28,column:6}},"11":{start:{line:17,column:8},end:{line:17,column:39}},"12":{start:{line:18,column:8},end:{line:18,column:33}},"13":{start:{line:19,column:8},end:{line:19,column:33}},"14":{start:{line:20,column:8},end:{line:20,column:39}},"15":{start:{line:21,column:8},end:{line:21,column:46}},"16":{start:{line:22,column:8},end:{line:22,column:53}},"17":{start:{line:23,column:8},end:{line:23,column:33}},"18":{start:{line:24,column:8},end:{line:24,column:47}},"19":{start:{line:25,column:8},end:{line:25,column:45}},"20":{start:{line:26,column:8},end:{line:26,column:33}},"21":{start:{line:27,column:8},end:{line:27,column:55}},"22":{start:{line:30,column:4},end:{line:47,column:6}},"23":{start:{line:32,column:8},end:{line:46,column:14}},"24":{start:{line:33,column:24},end:{line:33,column:46}},"25":{start:{line:35,column:16},end:{line:35,column:37}},"26":{start:{line:36,column:16},end:{line:36,column:28}},"27":{start:{line:37,column:16},end:{line:37,column:48}},"28":{start:{line:38,column:16},end:{line:38,column:48}},"29":{start:{line:39,column:16},end:{line:39,column:54}},"30":{start:{line:40,column:16},end:{line:40,column:52}},"31":{start:{line:41,column:16},end:{line:41,column:48}},"32":{start:{line:42,column:16},end:{line:42,column:62}},"33":{start:{line:43,column:16},end:{line:43,column:60}},"34":{start:{line:44,column:16},end:{line:44,column:71}},"35":{start:{line:45,column:16},end:{line:45,column:70}},"36":{start:{line:49,column:4},end:{line:53,column:6}},"37":{start:{line:50,column:8},end:{line:52,column:71}},"38":{start:{line:51,column:12},end:{line:51,column:94}},"39":{start:{line:55,column:4},end:{line:64,column:6}},"40":{start:{line:57,column:8},end:{line:63,column:14}},"41":{start:{line:58,column:24},end:{line:58,column:151}},"42":{start:{line:59,column:26},end:{line:59,column:72}},"43":{start:{line:61,column:16},end:{line:61,column:38}},"44":{start:{line:62,column:16},end:{line:62,column:85}},"45":{start:{line:66,column:4},end:{line:68,column:6}},"46":{start:{line:67,column:8},end:{line:67,column:38}},"47":{start:{line:70,column:4},end:{line:70,column:38}},"48":{start:{line:70,column:16},end:{line:70,column:37}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:11,column:23},end:{line:11,column:24}},loc:{start:{line:11,column:29},end:{line:71,column:1}},line:11},"1":{name:"(anonymous_1)",decl:{start:{line:12,column:11},end:{line:12,column:12}},loc:{start:{line:12,column:17},end:{line:12,column:104}},line:12},"2":{name:"(anonymous_2)",decl:{start:{line:16,column:15},end:{line:16,column:16}},loc:{start:{line:16,column:21},end:{line:28,column:5}},line:16},"3":{name:"(anonymous_3)",decl:{start:{line:30,column:39},end:{line:30,column:40}},loc:{start:{line:30,column:45},end:{line:47,column:5}},line:30},"4":{name:"(anonymous_4)",decl:{start:{line:33,column:18},end:{line:33,column:19}},loc:{start:{line:33,column:24},end:{line:33,column:46}},line:33},"5":{name:"(anonymous_5)",decl:{start:{line:34,column:18},end:{line:34,column:19}},loc:{start:{line:34,column:26},end:{line:46,column:13}},line:34},"6":{name:"(anonymous_6)",decl:{start:{line:49,column:48},end:{line:49,column:49}},loc:{start:{line:49,column:54},end:{line:53,column:5}},line:49},"7":{name:"(anonymous_7)",decl:{start:{line:50,column:15},end:{line:50,column:16}},loc:{start:{line:50,column:21},end:{line:52,column:9}},line:50},"8":{name:"(anonymous_8)",decl:{start:{line:55,column:39},end:{line:55,column:40}},loc:{start:{line:55,column:45},end:{line:64,column:5}},line:55},"9":{name:"(anonymous_9)",decl:{start:{line:58,column:18},end:{line:58,column:19}},loc:{start:{line:58,column:24},end:{line:58,column:151}},line:58},"10":{name:"(anonymous_10)",decl:{start:{line:59,column:18},end:{line:59,column:19}},loc:{start:{line:59,column:24},end:{line:59,column:74}},line:59},"11":{name:"(anonymous_11)",decl:{start:{line:60,column:19},end:{line:60,column:20}},loc:{start:{line:60,column:28},end:{line:63,column:13}},line:60},"12":{name:"(anonymous_12)",decl:{start:{line:66,column:14},end:{line:66,column:15}},loc:{start:{line:66,column:20},end:{line:68,column:5}},line:66},"13":{name:"(anonymous_13)",decl:{start:{line:70,column:10},end:{line:70,column:11}},loc:{start:{line:70,column:16},end:{line:70,column:37}},line:70}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"64cc94da7eb9900d958103448c2c5326fa858b41"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_1e67hxu3cy=function(){return actualCoverage;};return actualCoverage;}cov_1e67hxu3cy();cov_1e67hxu3cy().s[0]++;require('dotenv').config();const{env:{TEST_MONGODB_URL}}=(cov_1e67hxu3cy().s[1]++,process);const{models:{Item}}=(cov_1e67hxu3cy().s[2]++,require('hoort-data'));//const { SchemaTypes: { ObjectId } } = require('mongoose')
const{expect}=(cov_1e67hxu3cy().s[3]++,require('chai'));const{random}=(cov_1e67hxu3cy().s[4]++,Math);const createItem=(cov_1e67hxu3cy().s[5]++,require('./create-item'));const{mongoose}=(cov_1e67hxu3cy().s[6]++,require('hoort-data'));cov_1e67hxu3cy().s[7]++;describe('createItem',()=>{cov_1e67hxu3cy().f[0]++;cov_1e67hxu3cy().s[8]++;before(()=>{cov_1e67hxu3cy().f[1]++;cov_1e67hxu3cy().s[9]++;return mongoose.connect(TEST_MONGODB_URL,{useNewUrlParser:true,useUnifiedTopology:true});});let id,colorId,name,type,subtype,growth,growthDuration,soil,temperature,bestPeriod,bestPeriodNum,lightPreference;cov_1e67hxu3cy().s[10]++;beforeEach(()=>{cov_1e67hxu3cy().f[2]++;cov_1e67hxu3cy().s[11]++;colorId=`colorId-${random()}`;cov_1e67hxu3cy().s[12]++;name=`name-${random()}`;cov_1e67hxu3cy().s[13]++;type=`type-${random()}`;cov_1e67hxu3cy().s[14]++;subtype=`subtype-${random()}`;cov_1e67hxu3cy().s[15]++;growth=`growth-${random()}@mail.com`;cov_1e67hxu3cy().s[16]++;growthDuration=`growthDuration-${random()}`;cov_1e67hxu3cy().s[17]++;soil=`soil-${random()}`;cov_1e67hxu3cy().s[18]++;temperature=`temperature-${random()}`;cov_1e67hxu3cy().s[19]++;bestPeriod=`bestPeriod-${random()}`;cov_1e67hxu3cy().s[20]++;bestPeriodNum=[0,2,6];cov_1e67hxu3cy().s[21]++;lightPreference=`lightPreference-${random()}`;});cov_1e67hxu3cy().s[22]++;it('should succeed on valid data',()=>{cov_1e67hxu3cy().f[3]++;cov_1e67hxu3cy().s[23]++;return createItem(colorId,name,type,subtype,growth,growthDuration,soil,temperature,bestPeriod,bestPeriodNum,lightPreference).then(()=>{cov_1e67hxu3cy().f[4]++;cov_1e67hxu3cy().s[24]++;return Item.findOne({name});}).then(item=>{cov_1e67hxu3cy().f[5]++;cov_1e67hxu3cy().s[25]++;expect(item).to.exist;cov_1e67hxu3cy().s[26]++;id=item.id;cov_1e67hxu3cy().s[27]++;expect(item.name).to.equal(name);cov_1e67hxu3cy().s[28]++;expect(item.type).to.equal(type);cov_1e67hxu3cy().s[29]++;expect(item.subtype).to.equal(subtype);cov_1e67hxu3cy().s[30]++;expect(item.growth).to.equal(growth);cov_1e67hxu3cy().s[31]++;expect(item.soil).to.equal(soil);cov_1e67hxu3cy().s[32]++;expect(item.temperature).to.equal(temperature);cov_1e67hxu3cy().s[33]++;expect(item.bestPeriod).to.equal(bestPeriod);cov_1e67hxu3cy().s[34]++;expect(item.bestPeriodNum).to.deep.equal(bestPeriodNum);cov_1e67hxu3cy().s[35]++;expect(item.lightPreference).to.equal(lightPreference);});});cov_1e67hxu3cy().s[36]++;it('should fail on not all fields defined',()=>{cov_1e67hxu3cy().f[6]++;cov_1e67hxu3cy().s[37]++;expect(()=>{cov_1e67hxu3cy().f[7]++;cov_1e67hxu3cy().s[38]++;return createItem(colorId,name,type,subtype,growthDuration,soil,temperature);}).to.throw(TypeError,'temperature undefined is not a string');});cov_1e67hxu3cy().s[39]++;it('should fail on repeated name',()=>{cov_1e67hxu3cy().f[8]++;cov_1e67hxu3cy().s[40]++;return createItem(colorId,name,type,subtype,growth,growthDuration,soil,temperature,bestPeriod,bestPeriodNum,lightPreference).then(()=>{cov_1e67hxu3cy().f[9]++;cov_1e67hxu3cy().s[41]++;return createItem(colorId,name,type,subtype,growth,growthDuration,soil,temperature,bestPeriod,bestPeriodNum,lightPreference);}).then(()=>{cov_1e67hxu3cy().f[10]++;cov_1e67hxu3cy().s[42]++;throw new Error('should not reach this point');}).catch(error=>{cov_1e67hxu3cy().f[11]++;cov_1e67hxu3cy().s[43]++;expect(error).to.exist;cov_1e67hxu3cy().s[44]++;expect(error.message).to.eql(`item with name ${name} already exists`);});});cov_1e67hxu3cy().s[45]++;afterEach(()=>{cov_1e67hxu3cy().f[12]++;cov_1e67hxu3cy().s[46]++;Item.findByIdAndRemove({id});});cov_1e67hxu3cy().s[47]++;after(()=>{cov_1e67hxu3cy().f[13]++;cov_1e67hxu3cy().s[48]++;return mongoose.disconnect();});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyZWF0ZS1pdGVtLnNwZWMuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsImNvbmZpZyIsImVudiIsIlRFU1RfTU9OR09EQl9VUkwiLCJwcm9jZXNzIiwibW9kZWxzIiwiSXRlbSIsImV4cGVjdCIsInJhbmRvbSIsIk1hdGgiLCJjcmVhdGVJdGVtIiwibW9uZ29vc2UiLCJkZXNjcmliZSIsImJlZm9yZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJpZCIsImNvbG9ySWQiLCJuYW1lIiwidHlwZSIsInN1YnR5cGUiLCJncm93dGgiLCJncm93dGhEdXJhdGlvbiIsInNvaWwiLCJ0ZW1wZXJhdHVyZSIsImJlc3RQZXJpb2QiLCJiZXN0UGVyaW9kTnVtIiwibGlnaHRQcmVmZXJlbmNlIiwiYmVmb3JlRWFjaCIsIml0IiwidGhlbiIsImZpbmRPbmUiLCJpdGVtIiwidG8iLCJleGlzdCIsImVxdWFsIiwiZGVlcCIsInRocm93IiwiVHlwZUVycm9yIiwiRXJyb3IiLCJjYXRjaCIsImVycm9yIiwibWVzc2FnZSIsImVxbCIsImFmdGVyRWFjaCIsImZpbmRCeUlkQW5kUmVtb3ZlIiwiYWZ0ZXIiLCJkaXNjb25uZWN0Il0sIm1hcHBpbmdzIjoiMjZMQUFBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQixHQUVBLEtBQU0sQ0FBRUMsR0FBRyxDQUFFLENBQUVDLGdCQUFGLENBQVAsMkJBQWdDQyxPQUFoQyxDQUFOLENBQ0EsS0FBTSxDQUFFQyxNQUFNLENBQUUsQ0FBRUMsSUFBRixDQUFWLDJCQUF1Qk4sT0FBTyxDQUFDLFlBQUQsQ0FBOUIsQ0FBTixDQUNBO0FBQ0EsS0FBTSxDQUFFTyxNQUFGLDJCQUFhUCxPQUFPLENBQUMsTUFBRCxDQUFwQixDQUFOLENBQ0EsS0FBTSxDQUFFUSxNQUFGLDJCQUFhQyxJQUFiLENBQU4sQ0FDQSxLQUFNQyxDQUFBQSxVQUFVLDBCQUFHVixPQUFPLENBQUMsZUFBRCxDQUFWLENB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SUFBVixDQUFnQkMsSUFBaEIsQ0FBc0JDLE9BQXRCLENBQStCQyxNQUEvQixDQUF1Q0MsY0FBdkMsQ0FBdURDLElBQXZELENBQTZEQyxXQUE3RCxDQUEwRUMsVUFBMUUsQ0FBc0ZDLGFBQXRGLENBQXFHQyxlQUFyRyxDQUFWLENBQStILENBRHhJLEVBRUZHLElBRkUsQ0FFRyxJQUFNLG1EQUFFLEtBQU0sSUFBSVMsQ0FBQUEsS0FBSixDQUFVLDZCQUFWLENBQU4sQ0FBZ0QsQ0FGM0QsRUFHRkMsS0FIRSxDQUdJQyxLQUFLLEVBQUksbURBQ1puQyxNQUFNLENBQUNtQyxLQUFELENBQU4sQ0FBY1IsRUFBZCxDQUFpQkMsS0FBakIsQ0FEWSx5QkFFWjVCLE1BQU0sQ0FBQ21DLEtBQUssQ0FBQ0MsT0FBUCxDQUFOLENBQXNCVCxFQUF0QixDQUF5QlUsR0FBekIsQ0FBOEIsa0JBQWlCekIsSUFBSyxpQkFBcEQsRUFDSCxDQU5FLENBQVAsQ0FPSCxDQVRDLENBQUYsQ0E1Q3lCLHlCQXVEekIwQixTQUFTLENBQUMsSUFBTSxtREFDWnZDLElBQUksQ0FBQ3dDLGlCQUFMLENBQXVCLENBQUU3QixFQUFGLENBQXZCLEVBQ0gsQ0FGUSxDQUFULENBdkR5Qix5QkEyRHpCOEIsS0FBSyxDQUFDLElBQU0seURBQUFwQyxDQUFBQSxRQUFRLENBQUNxQyxVQUFULEdBQXFCLENBQTVCLENBQUwsQ0FDSCxDQTVETyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKClcblxuY29uc3QgeyBlbnY6IHsgVEVTVF9NT05HT0RCX1VSTCB9IH0gPSBwcm9jZXNzXG5jb25zdCB7IG1vZGVsczogeyBJdGVtIH0gfSA9IHJlcXVpcmUoJ2hvb3J0LWRhdGEnKVxuLy9jb25zdCB7IFNjaGVtYVR5cGVzOiB7IE9iamVjdElkIH0gfSA9IHJlcXVpcmUoJ21vbmdvb3NlJylcbmNvbnN0IHsgZXhwZWN0IH0gPSByZXF1aXJlKCdjaGFpJylcbmNvbnN0IHsgcmFuZG9tIH0gPSBNYXRoXG5jb25zdCBjcmVhdGVJdGVtID0gcmVxdWlyZSgnLi9jcmVhdGUtaXRlbScpXG5jb25zdCB7IG1vbmdvb3NlIH0gPSByZXF1aXJlKCdob29ydC1kYXRhJylcblxuZGVzY3JpYmUoJ2NyZWF0ZUl0ZW0nLCAoKSA9PiB7XG4gICAgYmVmb3JlKCgpID0+IG1vbmdvb3NlLmNvbm5lY3QoVEVTVF9NT05HT0RCX1VSTCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9KSlcblxuICAgIGxldCBpZCwgY29sb3JJZCwgbmFtZSwgdHlwZSwgc3VidHlwZSwgZ3Jvd3RoLCBncm93dGhEdXJhdGlvbiwgc29pbCwgdGVtcGVyYXR1cmUsIGJlc3RQZXJpb2QsIGJlc3RQZXJpb2ROdW0sIGxpZ2h0UHJlZmVyZW5jZVxuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICAgIGNvbG9ySWQgPSBgY29sb3JJZC0ke3JhbmRvbSgpfWBcbiAgICAgICAgbmFtZSA9IGBuYW1lLSR7cmFuZG9tKCl9YFxuICAgICAgICB0eXBlID0gYHR5cGUtJHtyYW5kb20oKX1gXG4gICAgICAgIHN1YnR5cGUgPSBgc3VidHlwZS0ke3JhbmRvbSgpfWBcbiAgICAgICAgZ3Jvd3RoID0gYGdyb3d0aC0ke3JhbmRvbSgpfUBtYWlsLmNvbWBcbiAgICAgICAgZ3Jvd3RoRHVyYXRpb24gPSBgZ3Jvd3RoRHVyYXRpb24tJHtyYW5kb20oKX1gXG4gICAgICAgIHNvaWwgPSBgc29pbC0ke3JhbmRvbSgpfWBcbiAgICAgICAgdGVtcGVyYXR1cmUgPSBgdGVtcGVyYXR1cmUtJHtyYW5kb20oKX1gXG4gICAgICAgIGJlc3RQZXJpb2QgPSBgYmVzdFBlcmlvZC0ke3JhbmRvbSgpfWBcbiAgICAgICAgYmVzdFBlcmlvZE51bSA9IFswLCAyLCA2XVxuICAgICAgICBsaWdodFByZWZlcmVuY2UgPSBgbGlnaHRQcmVmZXJlbmNlLSR7cmFuZG9tKCl9YFxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHN1Y2NlZWQgb24gdmFsaWQgZGF0YScsICgpID0+IHtcblxuICAgICAgICByZXR1cm4gY3JlYXRlSXRlbShjb2xvcklkLCBuYW1lLCB0eXBlLCBzdWJ0eXBlLCBncm93dGgsIGdyb3d0aER1cmF0aW9uLCBzb2lsLCB0ZW1wZXJhdHVyZSwgYmVzdFBlcmlvZCwgYmVzdFBlcmlvZE51bSwgbGlnaHRQcmVmZXJlbmNlKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gSXRlbS5maW5kT25lKHsgbmFtZSB9KSlcbiAgICAgICAgICAgIC50aGVuKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIGV4cGVjdChpdGVtKS50by5leGlzdFxuICAgICAgICAgICAgICAgIGlkID0gaXRlbS5pZFxuICAgICAgICAgICAgICAgIGV4cGVjdChpdGVtLm5hbWUpLnRvLmVxdWFsKG5hbWUpXG4gICAgICAgICAgICAgICAgZXhwZWN0KGl0ZW0udHlwZSkudG8uZXF1YWwodHlwZSlcbiAgICAgICAgICAgICAgICBleHBlY3QoaXRlbS5zdWJ0eXBlKS50by5lcXVhbChzdWJ0eXBlKVxuICAgICAgICAgICAgICAgIGV4cGVjdChpdGVtLmdyb3d0aCkudG8uZXF1YWwoZ3Jvd3RoKVxuICAgICAgICAgICAgICAgIGV4cGVjdChpdGVtLnNvaWwpLnRvLmVxdWFsKHNvaWwpXG4gICAgICAgICAgICAgICAgZXhwZWN0KGl0ZW0udGVtcGVyYXR1cmUpLnRvLmVxdWFsKHRlbXBlcmF0dXJlKVxuICAgICAgICAgICAgICAgIGV4cGVjdChpdGVtLmJlc3RQZXJpb2QpLnRvLmVxdWFsKGJlc3RQZXJpb2QpXG4gICAgICAgICAgICAgICAgZXhwZWN0KGl0ZW0uYmVzdFBlcmlvZE51bSkudG8uZGVlcC5lcXVhbChiZXN0UGVyaW9kTnVtKVxuICAgICAgICAgICAgICAgIGV4cGVjdChpdGVtLmxpZ2h0UHJlZmVyZW5jZSkudG8uZXF1YWwobGlnaHRQcmVmZXJlbmNlKVxuICAgICAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBmYWlsIG9uIG5vdCBhbGwgZmllbGRzIGRlZmluZWQnLCAoKSA9PiB7XG4gICAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSXRlbShjb2xvcklkLCBuYW1lLCB0eXBlLCBzdWJ0eXBlLCBncm93dGhEdXJhdGlvbiwgc29pbCwgdGVtcGVyYXR1cmUpXG4gICAgICAgIH0pLnRvLnRocm93KFR5cGVFcnJvciwgJ3RlbXBlcmF0dXJlIHVuZGVmaW5lZCBpcyBub3QgYSBzdHJpbmcnKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGZhaWwgb24gcmVwZWF0ZWQgbmFtZScsICgpID0+IHtcblxuICAgICAgICByZXR1cm4gY3JlYXRlSXRlbShjb2xvcklkLCBuYW1lLCB0eXBlLCBzdWJ0eXBlLCBncm93dGgsIGdyb3d0aER1cmF0aW9uLCBzb2lsLCB0ZW1wZXJhdHVyZSwgYmVzdFBlcmlvZCwgYmVzdFBlcmlvZE51bSwgbGlnaHRQcmVmZXJlbmNlKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gY3JlYXRlSXRlbShjb2xvcklkLCBuYW1lLCB0eXBlLCBzdWJ0eXBlLCBncm93dGgsIGdyb3d0aER1cmF0aW9uLCBzb2lsLCB0ZW1wZXJhdHVyZSwgYmVzdFBlcmlvZCwgYmVzdFBlcmlvZE51bSwgbGlnaHRQcmVmZXJlbmNlKSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHsgdGhyb3cgbmV3IEVycm9yKCdzaG91bGQgbm90IHJlYWNoIHRoaXMgcG9pbnQnKSB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBleHBlY3QoZXJyb3IpLnRvLmV4aXN0XG4gICAgICAgICAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvLmVxbChgaXRlbSB3aXRoIG5hbWUgJHtuYW1lfSBhbHJlYWR5IGV4aXN0c2ApXG4gICAgICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBhZnRlckVhY2goKCkgPT4ge1xuICAgICAgICBJdGVtLmZpbmRCeUlkQW5kUmVtb3ZlKHsgaWQgfSlcbiAgICB9KVxuXG4gICAgYWZ0ZXIoKCkgPT4gbW9uZ29vc2UuZGlzY29ubmVjdCgpKVxufSkiXX0=